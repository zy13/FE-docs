<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>
<script type="module">
  // Reflect监听对象变化的新的API

  // Proxy数据劫持，监听数据的获取以及修改
  let obj = {
    name: '张三'
  }
  let newObj = new Proxy(obj,{
    get(target,key,value){
      console.log('get', target[key])
      // return target[key]
      return Reflect.get(...arguments)
    },
    set(target,key,newValue){
      console.log('set',target[key],newValue)
      // target[key] = newValue;
      return Reflect.set(...arguments)
    }
  })
  console.log()
  // // obj.name = '李四'
  newObj.name = '王五'
  newObj.name
  // console.log(newObj.name)
  // console.log(obj.name)

  // Object.keys(obj).forEach(key => {
  //   let value = obj[key]
  //   Object.defineProperty(obj,key,{
  //     configurable: true,
  //     enumerable: true,
  //     get(){
  //       console.log('get',value)
  //       return value
  //     },
  //     set(newValue){
  //       console.log('set',newValue)
  //       value=newValue
  //     }
  //   })
  // })
  // obj.name='李四'
  // console.log(obj)
</script>
</html>