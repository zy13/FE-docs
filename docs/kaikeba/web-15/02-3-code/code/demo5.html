<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
</head>
<body>
  
</body>

<script>
// 代理模式
// let zhangsan = {
//   sellHouse(price) {
//     console.log("卖了" + price + '万元')
//   }
// }
// // 中介
// let ProxySeller = {
//   sellHouse(price, hasSold) {
//     if (hasSold) {
//       zhangsan.sellHouse(price - 2)
//     } else {
//       zhangsan.sellHouse(price)
//     }
//   }
// }

// zhangsan.sellHouse(100)
// ProxySeller.sellHouse(100, true)

// 创建图片
class CreateImage{
  constructor(){
    this.img = document.createElement('img')
    document.body.appendChild(this.img)
  }
  setSrc(src) {
    this.img.src = src
  }
}
let src = 'https://t1.hxzdhn.com/uploads/tu/201612/58/1231036404.jpg'
// let myImg = new CreateImage()
// myImg.setSrc(src)
 
function proxyImg(src) {
  let myImg = new CreateImage()
  let img = new Image()
  myImg.setSrc('./loading.jpg')
  img.src=src
  img.onload = function() {
    myImg.setSrc(this.src)
  }
}
proxyImg(src)

// ES6 Proxy() 对象代理: 数据拦截，数据劫持 =》数据响应式
// proxy (http代理：正向代理)

</script>
</html>