<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>

</body>
<script>
    // ES5


    // data.age = 21;

    // let obj = {myname:"张三"}
    // 创建对象
    // let value = "张三";
    // let obj = Object.defineProperty({},"myname",{
    //     configurable:true,
    //     enumerable:true,
    //     get(){
    //         console.log("get");
    //         return value;
    //     },
    //     set(newValue){
    //         console.log("set",newValue);
    //         value = newValue;
    //     }
    // })
    // console.log(obj);
    // obj.myname = "李四"
    // delete obj.myname;
    // console.log(obj);
    // for(let i in obj){
    //     console.log(i);
    // }


    let data = {
        myname: "张三",
        age: 20
    }
    // console.log(data);
    // let value = data.myname ;
    // Object.defineProperty(data,"myname",{
    //     configurable:true,
    //     enumerable:true,
    //     get(){
    //         console.log("get");
    //         return value;
    //     },
    //     set(newValue){
    //         value = newValue;
    //     }
    // })
    // console.log(data);

    // 数据观察 ，数据劫持；
    function Observer(data) {
        let keys = Object.keys(data);
        keys.forEach(key => {
            let value = data[key];
            Object.defineProperty(data, key, {
                configurable: true,
                enumerable: true,
                get() {
                    return value;
                },
                set(newValue) {
                    value = newValue
                }
            })
        })
    }
    // Observer(data);
    console.log(data);



</script>

</html>