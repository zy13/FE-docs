<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
    
</body>
<script>
// 多个函数的compose
// 需求:获取到句号统计句号长度最终得到句号长度的奇偶。
let str = "大家好,我是中国人。我爱中国。我们同住地球村。";
// function getOddOrEven(str){
//     let res = str.match(/。/g);
//     let strLength = res.length;
//     return strLength%2===0?'偶数':'奇数'
// }
// console.log( getOddOrEven(str));

// 获取句号
const getPeriod = str=>str.match(/。/g);
//统计长度
const getLength = str=>str.length;
//判断奇偶
const oddOrEven = num=>num%2===0?'偶数':'奇数';

// const pipe = function(...fns){
//     return function(arg){
//        return fns.reduce((acc,fn)=>{
//            return fn(acc)
//        },arg)
//     }
// }

const compose = function(...fns){
    return function(arg){
       return fns.reverse().reduce((acc,fn)=>{
           return fn(acc)
       },arg)
    }
}

const myfn = compose(oddOrEven,getLength,getPeriod);
let res =  myfn(str);
console.log(res);


</script>
</html>