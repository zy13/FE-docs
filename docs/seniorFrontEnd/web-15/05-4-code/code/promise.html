<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>原本的promise</title>
</head>

<body>

</body>
<script>
    // console.log(111)
    // setTimeout(function(){
    //     console.log("setTimeout");
    // })
    // 三种状态；
    // let p = new Promise((resolve,reject)=>{
    //     console.log("执行了")
    //     resolve("success");
    //     // reject("err");
    // })
    // console.log(p)
    // 1.多个then调用 (宏任务、微任务问题：执行顺序问题)  2.then链式；
    // p.then(res=>{
    //     console.log(111,res);
    // },err=>{
    //     console.log(err);
    // })
    // console.log(2222);
    // p.then(res=>{
    //     console.log(222,res);
    // })
    // console.log(3333);
    // 返还值 返还promise对象（原封不动） 和 非promise对象（包装成promise对象）； 忌：重复包装 
    // let p2 =  p.then(res=>{
    //     console.log(111,res);
    //     // return new Promise(res=>{
    //     //     res("success");
    //     // })
    // })

    // p2.then(res=>{
    //     console.log(222,res);
    // })

    let p1 = new Promise((res, rej) => {
        setTimeout(() => {
            res(111)
        }, 2000)
    })
    let p2 = new Promise((res, rej) => {
        setTimeout(() => {
            // res(2222)
            rej("err");
        }, 1000)
    })
    // Promise.race([p1,p2]).then(res=>{
    //     console.log(res);
    // });
    // Promise.all([p1,p2]).then(res=>{
    //     console.log(res);
    // });

    Promise.allSettled([p1,p2]).then(res=>{
        console.log(res);
    })
</script>

</html>